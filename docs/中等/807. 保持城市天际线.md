---
title: 807. ä¿æŒåŸŽå¸‚å¤©é™…çº¿
---

## é¢˜ç›®æè¿°

åœ¨äºŒç»´æ•°ç»„ `grid` ä¸­ï¼Œ`grid[i][j]`ä»£è¡¨ä½äºŽæŸå¤„çš„å»ºç­‘ç‰©çš„é«˜åº¦ã€‚ æˆ‘ä»¬è¢«å…è®¸å¢žåŠ ä»»ä½•æ•°é‡ï¼ˆä¸åŒå»ºç­‘ç‰©çš„æ•°é‡å¯èƒ½ä¸åŒï¼‰çš„å»ºç­‘ç‰©çš„é«˜åº¦ã€‚ é«˜åº¦ 0 ä¹Ÿè¢«è®¤ä¸ºæ˜¯å»ºç­‘ç‰©ã€‚

æœ€åŽï¼Œä»Žæ–°æ•°ç»„çš„æ‰€æœ‰å››ä¸ªæ–¹å‘ï¼ˆå³é¡¶éƒ¨ï¼Œåº•éƒ¨ï¼Œå·¦ä¾§å’Œå³ä¾§ï¼‰è§‚çœ‹çš„â€œå¤©é™…çº¿â€å¿…é¡»ä¸ŽåŽŸå§‹æ•°ç»„çš„å¤©é™…çº¿ç›¸åŒã€‚ åŸŽå¸‚çš„å¤©é™…çº¿æ˜¯ä»Žè¿œå¤„è§‚çœ‹æ—¶ï¼Œç”±æ‰€æœ‰å»ºç­‘ç‰©å½¢æˆçš„çŸ©å½¢çš„å¤–éƒ¨è½®å»“ã€‚ è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚

å»ºç­‘ç‰©é«˜åº¦å¯ä»¥å¢žåŠ çš„æœ€å¤§æ€»å’Œæ˜¯å¤šå°‘ï¼Ÿ

> **ä¾‹å­ï¼š**  
> **è¾“å…¥ï¼š** grid = [[3,0,8,4],[2,4,5,7],[9,2,6,3],[0,3,1,0]]  
> **è¾“å‡ºï¼š** 35  
> **è§£é‡Šï¼š**  
> The grid is:  
> [ [3, 0, 8, 4],  
> [2, 4, 5, 7],  
> [9, 2, 6, 3],  
> [0, 3, 1, 0] ]
> ä»Žæ•°ç»„ç«–ç›´æ–¹å‘ï¼ˆå³é¡¶éƒ¨ï¼Œåº•éƒ¨ï¼‰çœ‹â€œå¤©é™…çº¿â€æ˜¯ï¼š[9, 4, 8, 7]  
> ä»Žæ°´å¹³æ°´å¹³æ–¹å‘ï¼ˆå³å·¦ä¾§ï¼Œå³ä¾§ï¼‰çœ‹â€œå¤©é™…çº¿â€æ˜¯ï¼š[8, 7, 9, 3]
> åœ¨ä¸å½±å“å¤©é™…çº¿çš„æƒ…å†µä¸‹å¯¹å»ºç­‘ç‰©è¿›è¡Œå¢žé«˜åŽï¼Œæ–°æ•°ç»„å¦‚ä¸‹ï¼š  
> gridNew =  
> [ [8, 4, 8, 7],  
> [7, 4, 7, 7],  
> [9, 4, 8, 7],  
> [3, 3, 3, 3] ]

**è¯´æ˜Ž:**

- `1 < grid.length = grid[0].length <= 50`ã€‚
- `grid[i][j]` çš„é«˜åº¦èŒƒå›´æ˜¯ï¼š `[0, 100]`ã€‚
- ä¸€åº§å»ºç­‘ç‰©å æ®ä¸€ä¸ª`grid[i][j]`ï¼šæ¢è¨€ä¹‹ï¼Œå®ƒä»¬æ˜¯ `1 x 1 x grid[i][j]` çš„é•¿æ–¹ä½“ã€‚

æ¥æºï¼š[LeetCode](https://leetcode-cn.com/problems/max-increase-to-keep-city-skyline)

## æ€è·¯

éåŽ†ä¸€æ¬¡æ‰¾åˆ°ç«–ç›´æ–¹å‘å’Œæ°´å¹³æ–¹å‘çš„å¤©é™…çº¿ï¼Œå³æ¯è¡Œå’Œæ¯åˆ—çš„æœ€å¤§å…ƒç´ æ˜¯å¤šå°‘ã€‚  
å†éåŽ†ä¸€æ¬¡å°†æ¯ä¸ªå»ºç­‘å¢žåŠ åˆ°è¯¥è¡Œå’Œè¯¥åˆ—å¤©é™…çº¿ä¸­çš„è¾ƒå°å€¼ã€‚åˆè®¡æ¯æ¬¡å¢žåŠ çš„é«˜åº¦ï¼Œå³ä¸ºç»“æžœã€‚

> è¿™é‡Œæ˜¯å­˜åœ¨åŠžæ³•åªéåŽ†ä¸€æ¬¡å°±è®¡ç®—å‡ºç»“æžœçš„ã€‚åªæ˜¯åšé¢˜æ—¶ï¼Œå¤œå·²ç»æŒºæ·±äº†ï¼Œæ€è·¯æ€»æ˜¯ç†ä¸æ¸…ï¼Œè€Œä¸”é‚£æ ·è§£ç­”ä»£ç ç†è§£éš¾åº¦ä¹Ÿå°†å¢žåŠ ï¼ŒäºŽæ˜¯ä½œç½¢ã€‚  
> ä»¥åŽå†è¯´å§ã€‚ðŸ¤ 

## è§£æ³•

```js
/**
 * @param {number[][]} grid
 * @return {number}
 */
const maxIncreaseKeepingSkyline = grid => {
  let rise = 0;
  const rowSkyline = Array(grid[0].length).fill(0);
  const colSkyline = Array(grid.length).fill(0);

  grid.forEach((row, i) => {
    row.forEach((building, j) => {
      if (building > rowSkyline[j]) {
        rowSkyline[j] = building;
      }

      if (building > colSkyline[i]) {
        colSkyline[i] = building;
      }
    });
  });

  grid.forEach((row, i) => {
    row.forEach((building, j) => {
      rise += Math.min(rowSkyline[j], colSkyline[i]) - building;
    });
  });

  return rise;
};
```
